PKGNAME=ispc
PKGSEC=devel
PKGDEP="ncurses zlib"
PKGDEP__AMD64="${PKGDEP} glibc+32"
BUILDDEP="llvm"
PKGDES="Intel Implicit SPMD Program Compiler"

AB_FLAGS_SPECS=0
USECLANG=1

CMAKE_AFTER="
	-DCMAKE_LINKER=/bin/ld.lld
	-DISPC_NO_DUMPS=ON
	-DARM_ENABLED=OFF
        -DISPCRT_BUILD_TASK_MODEL=Threads
"
CMAKE_AFTER__ARM64="
	${CMAKE_AFTER}
	-DARM_ENABLED=ON
	-DX86_ENABLED=OFF
"

FAIL_ARCH="!(amd64|arm64)"
