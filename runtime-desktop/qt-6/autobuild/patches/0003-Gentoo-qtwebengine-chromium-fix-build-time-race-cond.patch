From 54a2a5c178fce12781fcbabf709cd4df8c890dc3 Mon Sep 17 00:00:00 2001
From: Mingcong Bai <jeffbai@aosc.xyz>
Date: Mon, 1 Jul 2024 11:24:09 +0800
Subject: [PATCH 03/10] [Gentoo] qtwebengine: chromium: fix build-time race
 condition with Ninja >= 1.12

---
 qtwebengine/src/3rdparty/chromium/content/browser/BUILD.gn       | 1 +
 .../extensions/browser/api/declarative_net_request/BUILD.gn      | 1 +
 2 files changed, 2 insertions(+)

diff --git a/qtwebengine/src/3rdparty/chromium/content/browser/BUILD.gn b/qtwebengine/src/3rdparty/chromium/content/browser/BUILD.gn
index 4354f118f1..432fd7137a 100644
--- a/qtwebengine/src/3rdparty/chromium/content/browser/BUILD.gn
+++ b/qtwebengine/src/3rdparty/chromium/content/browser/BUILD.gn
@@ -194,6 +194,7 @@ jumbo_source_set("browser") {
     "//components/services/storage/dom_storage:local_storage_proto",
     "//components/services/storage/public/cpp",
     "//components/services/storage/public/mojom",
+    "//components/spellcheck:buildflags",
     "//components/sqlite_proto",
     "//components/system_media_controls",
     "//components/tracing:startup_tracing",
diff --git a/qtwebengine/src/3rdparty/chromium/extensions/browser/api/declarative_net_request/BUILD.gn b/qtwebengine/src/3rdparty/chromium/extensions/browser/api/declarative_net_request/BUILD.gn
index 1fc492f5a0..6a16cbb34c 100644
--- a/qtwebengine/src/3rdparty/chromium/extensions/browser/api/declarative_net_request/BUILD.gn
+++ b/qtwebengine/src/3rdparty/chromium/extensions/browser/api/declarative_net_request/BUILD.gn
@@ -20,6 +20,7 @@ source_set("declarative_net_request") {
   deps = [
     "//base",
     "//content/public/browser",
+    "//components/web_cache/public/mojom",
     "//extensions/common",
     "//extensions/common/api",
     "//services/preferences/public/cpp",
-- 
2.47.0

