PKGNAME=plasma-nm
PKGSEC=kde
PKGDEP="fontconfig freetype kauth kcmutils kcodecs kcompletion kconfig \
        kconfigwidgets kcoreaddons kdbusaddons kdeclarative ki18n kio \
        kirigami kitemviews kjobwidgets knotifications kpackage kservice \
        kwallet kwidgetsaddons kwindowsystem kxmlgui modemmanager-qt \
        networkmanager-qt mobile-broadband-provider-info \
        networkmanager-fortisslvpn networkmanager-iodine networkmanager-l2tp \
        networkmanager-openconnect networkmanager-openvpn networkmanager-pptp \
        networkmanager-strongswan networkmanager-vpnc networkmanager-qt \
        openconnect openssh plasma-workspace prison qca solid wireguard-tools"
BUILDDEP="extra-cmake-modules kdoctools"
PKGDES="Plasma applet written in QML for managing network connections"

CMAKE_AFTER="-DBUILD_COVERAGE=OFF \
             -DBUILD_TESTING=OFF \
             -DENABLE_BSYMBOLICFUNCTIONS=OFF \
             -DKDE_INSTALL_PREFIX_SCRIPT=OFF \
             -DKDE_INSTALL_USE_QT_SYS_PATHS=ON \
             -DKDE_L10N_AUTO_TRANSLATIONS=OFF \
             -DKDE_L10N_SYNC_TRANSLATIONS=OFF \
             -DBUILD_MOBILE=1"
# The openconnect oauth authentication of this package depends on Qt6WebEngineWidgets
# which doesn't exist on secondary architectures.
CMAKE_AFTER__LOONGSON3="\
             ${CMAKE_AFTER} \
             -DBUILD_OPENCONNECT=OFF"
CMAKE_AFTER__RISCV64="\
             ${CMAKE_AFTER} \
             -DBUILD_OPENCONNECT=OFF"
CMAKE_AFTER__PPC64EL="\
             ${CMAKE_AFTER} \
             -DBUILD_OPENCONNECT=OFF"
